{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/teepakorn_s/Desktop/my_cms/frontend/components/SearchModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { Search, X, Loader2, FileText, Newspaper, ArrowRight, Clock, TrendingUp } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"motion/react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { STRAPI_URL } from \"@/lib/api\";\n\ninterface SearchModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    domain?: string;\n}\n\ninterface SearchResult {\n    id: number;\n    documentId: string;\n    title: string;\n    excerpt?: string;\n    type: \"news\" | \"document\";\n    slug?: string;\n    category?: string;\n    publishedAt?: string;\n}\n\n// Highlight matching text\nfunction Highlight({ text, query }: { text: string; query: string }) {\n    if (!query.trim()) return <>{text}</>;\n    const parts = text.split(new RegExp(`(${query.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\")})`, \"gi\"));\n    return (\n        <>\n            {parts.map((part, i) =>\n                part.toLowerCase() === query.toLowerCase() ? (\n                    <mark key={i} className=\"bg-accent/20 text-accent rounded px-0.5 not-italic\">\n                        {part}\n                    </mark>\n                ) : (\n                    part\n                )\n            )}\n        </>\n    );\n}\n\nexport default function SearchModal({ isOpen, onClose, domain = \"localhost:3000\" }: SearchModalProps) {\n    const [query, setQuery] = useState(\"\");\n    const [results, setResults] = useState<SearchResult[]>([]);\n    const [isSearching, setIsSearching] = useState(false);\n    const [hasSearched, setHasSearched] = useState(false);\n    const [recentSearches, setRecentSearches] = useState<string[]>([]);\n    const debounceRef = useRef<NodeJS.Timeout | null>(null);\n    const inputRef = useRef<HTMLInputElement>(null);\n    const router = useRouter();\n\n    const siteParam = domain === \"pdpa.localhost\" ? \"pdpa\" : \"main\";\n    const isPdpa = domain === \"pdpa.localhost\";\n\n    // Load recent searches from localStorage\n    useEffect(() => {\n        const stored = localStorage.getItem(`recent_searches_${siteParam}`);\n        if (stored) {\n            try { setRecentSearches(JSON.parse(stored)); } catch { }\n        }\n    }, [siteParam]);\n\n    // Focus input when modal opens & lock scroll\n    useEffect(() => {\n        if (isOpen) {\n            document.body.style.overflow = \"hidden\";\n            setTimeout(() => inputRef.current?.focus(), 200);\n        } else {\n            document.body.style.overflow = \"unset\";\n        }\n        return () => { document.body.style.overflow = \"unset\"; };\n    }, [isOpen]);\n\n    // Reset state when modal closes\n    useEffect(() => {\n        if (!isOpen) {\n            setTimeout(() => {\n                setQuery(\"\");\n                setResults([]);\n                setHasSearched(false);\n            }, 300);\n        }\n    }, [isOpen]);\n\n    // Live search with debounce\n    const performSearch = useCallback(async (searchQuery: string) => {\n        if (!searchQuery.trim() || searchQuery.trim().length < 2) {\n            setResults([]);\n            setHasSearched(false);\n            return;\n        }\n\n        setIsSearching(true);\n        setHasSearched(true);\n\n        try {\n            const qEnc = encodeURIComponent(searchQuery);\n\n            const [articlesRes, docsRes] = await Promise.all([\n                fetch(\n                    `${STRAPI_URL}/api/articles?filters[domain][$eq]=${domain}&filters[$or][0][title][$containsi]=${qEnc}&filters[$or][1][content][$containsi]=${qEnc}&pagination[pageSize]=5&populate=category&sort=publishedAt:desc`\n                ).then((r) => r.json()).catch(() => ({ data: [] })),\n                fetch(\n                    `${STRAPI_URL}/api/policy-documents?filters[domain][$eq]=${domain}&filters[$or][0][title][$containsi]=${qEnc}&filters[$or][1][description][$containsi]=${qEnc}&pagination[pageSize]=5&populate=category&sort=createdAt:desc`\n                ).then((r) => r.json()).catch(() => ({ data: [] })),\n            ]);\n\n            const newsResults: SearchResult[] = (articlesRes.data || []).map((a: any) => ({\n                id: a.id,\n                documentId: a.documentId,\n                title: a.title,\n                excerpt: a.excerpt || a.content?.substring(0, 80) || \"\",\n                type: \"news\" as const,\n                slug: a.slug,\n                category: a.category?.name || \"\",\n                publishedAt: a.publishedAt,\n            }));\n\n            const docResults: SearchResult[] = (docsRes.data || []).map((d: any) => ({\n                id: d.id,\n                documentId: d.documentId,\n                title: d.title,\n                excerpt: d.description?.substring(0, 80) || \"\",\n                type: \"document\" as const,\n                slug: d.slug || d.documentId,\n                category: d.category?.name || d.docType || \"\",\n                publishedAt: d.publishedAt || d.createdAt,\n            }));\n\n            setResults([...newsResults, ...docResults]);\n        } catch (err) {\n            console.error(\"Search error:\", err);\n        } finally {\n            setIsSearching(false);\n        }\n    }, [domain]);\n\n    // Debounced change handler\n    const handleQueryChange = (value: string) => {\n        setQuery(value);\n        if (debounceRef.current) clearTimeout(debounceRef.current);\n        debounceRef.current = setTimeout(() => performSearch(value), 300);\n    };\n\n    // Save to recent searches\n    const saveRecentSearch = (q: string) => {\n        const trimmed = q.trim();\n        if (!trimmed) return;\n        const updated = [trimmed, ...recentSearches.filter((s) => s !== trimmed)].slice(0, 5);\n        setRecentSearches(updated);\n        localStorage.setItem(`recent_searches_${siteParam}`, JSON.stringify(updated));\n    };\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!query.trim()) return;\n        saveRecentSearch(query);\n        router.push(`/news?q=${encodeURIComponent(query)}&site=${siteParam}`);\n        onClose();\n    };\n\n    const handleResultClick = (result: SearchResult) => {\n        saveRecentSearch(query);\n        onClose();\n    };\n\n    const newsResults = results.filter((r) => r.type === \"news\");\n    const docResults = results.filter((r) => r.type === \"document\");\n    const hasResults = results.length > 0;\n    const showEmpty = hasSearched && !isSearching && !hasResults;\n\n    const popularTags = isPdpa\n        ? [\"สิทธิ์เจ้าของข้อมูล\", \"นโยบาย PDPA\", \"แบบฟอร์มคำขอ\", \"DPO\", \"การร้องเรียน\"]\n        : [\"Data Catalog\", \"มาตรฐานข้อมูล\", \"Open Data\", \"ธรรมาภิบาล\", \"แบบฟอร์มขอใช้ข้อมูล\"];\n\n    return (\n        <AnimatePresence>\n            {isOpen && (\n                <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    transition={{ duration: 0.2 }}\n                    className=\"fixed inset-0 z-[100] backdrop-blur-[20px] bg-primary/30 flex items-start justify-center pt-[10vh] p-4\"\n                    onClick={onClose}\n                >\n                    <motion.div\n                        initial={{ scale: 0.95, opacity: 0, y: -20 }}\n                        animate={{ scale: 1, opacity: 1, y: 0 }}\n                        exit={{ scale: 0.95, opacity: 0, y: -20 }}\n                        transition={{ type: \"spring\", damping: 28, stiffness: 350 }}\n                        className=\"w-full max-w-2xl rounded-[2.5rem] shadow-2xl border relative overflow-hidden\"\n                        style={{ backgroundColor: \"var(--background)\", borderColor: \"var(--glass-border)\" }}\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        {/* Search Input */}\n                        <form onSubmit={handleSubmit} className=\"relative border-b\" style={{ borderColor: \"var(--glass-border)\" }}>\n                            <div className=\"flex items-center gap-4 px-6 py-5\">\n                                {isSearching ? (\n                                    <Loader2 size={24} className=\"text-accent animate-spin flex-shrink-0\" />\n                                ) : (\n                                    <Search size={24} className=\"flex-shrink-0\" style={{ color: \"var(--text-muted)\" }} />\n                                )}\n                                <input\n                                    ref={inputRef}\n                                    id=\"search-input\"\n                                    type=\"text\"\n                                    value={query}\n                                    onChange={(e) => handleQueryChange(e.target.value)}\n                                    placeholder={isPdpa ? \"ค้นหาข้อมูล PDPA...\" : \"ค้นหาข้อมูลธรรมาภิบาล...\"}\n                                    className=\"flex-1 text-xl font-bold bg-transparent border-none outline-none placeholder:opacity-40\"\n                                    style={{ color: \"var(--foreground)\" }}\n                                />\n                                {query && (\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => { setQuery(\"\"); setResults([]); setHasSearched(false); inputRef.current?.focus(); }}\n                                        className=\"p-2 rounded-xl hover:bg-gray-100 transition-all flex-shrink-0\"\n                                        style={{ color: \"var(--text-muted)\" }}\n                                    >\n                                        <X size={18} />\n                                    </button>\n                                )}\n                                <button\n                                    type=\"button\"\n                                    onClick={onClose}\n                                    className=\"p-2 rounded-xl hover:bg-gray-100 transition-all flex-shrink-0 md:hidden\"\n                                    style={{ color: \"var(--text-muted)\" }}\n                                >\n                                    <X size={20} />\n                                </button>\n                                <kbd className=\"hidden md:flex items-center gap-1 px-2 py-1 text-[10px] font-bold rounded-lg border bg-gray-50 text-gray-400 border-gray-200\">\n                                    ESC\n                                </kbd>\n                            </div>\n                        </form>\n\n                        {/* Results / Default State */}\n                        <div className=\"max-h-[60vh] overflow-y-auto\">\n                            <AnimatePresence mode=\"wait\">\n                                {/* Live Results */}\n                                {hasSearched && !showEmpty && (\n                                    <motion.div\n                                        key=\"results\"\n                                        initial={{ opacity: 0 }}\n                                        animate={{ opacity: 1 }}\n                                        exit={{ opacity: 0 }}\n                                        className=\"p-4 space-y-2\"\n                                    >\n                                        {/* News Results */}\n                                        {newsResults.length > 0 && (\n                                            <div>\n                                                <div className=\"flex items-center gap-2 px-3 py-2\">\n                                                    <Newspaper size={14} className=\"text-blue-500\" />\n                                                    <span className=\"text-[10px] font-black uppercase tracking-widest text-gray-400\">ข่าวสาร ({newsResults.length})</span>\n                                                </div>\n                                                {newsResults.map((result) => (\n                                                    <Link\n                                                        key={result.id}\n                                                        href={`/news/${result.slug || result.documentId}?site=${siteParam}`}\n                                                        onClick={() => handleResultClick(result)}\n                                                        className=\"flex items-start gap-4 p-4 rounded-2xl hover:bg-gray-50 transition-all group\"\n                                                    >\n                                                        <div className=\"w-10 h-10 rounded-xl bg-blue-50 text-blue-500 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-100 transition-colors\">\n                                                            <Newspaper size={18} />\n                                                        </div>\n                                                        <div className=\"flex-1 min-w-0\">\n                                                            <p className=\"font-bold text-sm truncate\" style={{ color: \"var(--foreground)\" }}>\n                                                                <Highlight text={result.title} query={query} />\n                                                            </p>\n                                                            {result.excerpt && (\n                                                                <p className=\"text-xs mt-0.5 line-clamp-1\" style={{ color: \"var(--text-muted)\" }}>\n                                                                    <Highlight text={result.excerpt} query={query} />\n                                                                </p>\n                                                            )}\n                                                            {result.category && (\n                                                                <span className=\"inline-block mt-1 px-2 py-0.5 bg-blue-50 text-blue-500 rounded-lg text-[10px] font-bold\">{result.category}</span>\n                                                            )}\n                                                        </div>\n                                                        <ArrowRight size={16} className=\"text-gray-300 group-hover:text-accent group-hover:translate-x-1 transition-all flex-shrink-0 mt-1\" />\n                                                    </Link>\n                                                ))}\n                                            </div>\n                                        )}\n\n                                        {/* Document Results */}\n                                        {docResults.length > 0 && (\n                                            <div>\n                                                <div className=\"flex items-center gap-2 px-3 py-2\">\n                                                    <FileText size={14} className=\"text-emerald-500\" />\n                                                    <span className=\"text-[10px] font-black uppercase tracking-widest text-gray-400\">เอกสาร ({docResults.length})</span>\n                                                </div>\n                                                {docResults.map((result) => (\n                                                    <Link\n                                                        key={result.id}\n                                                        href={`/documents/${result.slug || result.documentId}?site=${siteParam}`}\n                                                        onClick={() => handleResultClick(result)}\n                                                        className=\"flex items-start gap-4 p-4 rounded-2xl hover:bg-gray-50 transition-all group\"\n                                                    >\n                                                        <div className=\"w-10 h-10 rounded-xl bg-emerald-50 text-emerald-500 flex items-center justify-center flex-shrink-0 group-hover:bg-emerald-100 transition-colors\">\n                                                            <FileText size={18} />\n                                                        </div>\n                                                        <div className=\"flex-1 min-w-0\">\n                                                            <p className=\"font-bold text-sm truncate\" style={{ color: \"var(--foreground)\" }}>\n                                                                <Highlight text={result.title} query={query} />\n                                                            </p>\n                                                            {result.excerpt && (\n                                                                <p className=\"text-xs mt-0.5 line-clamp-1\" style={{ color: \"var(--text-muted)\" }}>\n                                                                    <Highlight text={result.excerpt} query={query} />\n                                                                </p>\n                                                            )}\n                                                            {result.category && (\n                                                                <span className=\"inline-block mt-1 px-2 py-0.5 bg-emerald-50 text-emerald-500 rounded-lg text-[10px] font-bold\">{result.category}</span>\n                                                            )}\n                                                        </div>\n                                                        <ArrowRight size={16} className=\"text-gray-300 group-hover:text-accent group-hover:translate-x-1 transition-all flex-shrink-0 mt-1\" />\n                                                    </Link>\n                                                ))}\n                                            </div>\n                                        )}\n\n                                        {/* View All Button */}\n                                        {hasResults && (\n                                            <div className=\"pt-2 px-3\">\n                                                <Link\n                                                    href={`/news?q=${encodeURIComponent(query)}&site=${siteParam}`}\n                                                    onClick={() => { saveRecentSearch(query); onClose(); }}\n                                                    className=\"w-full flex items-center justify-center gap-2 py-3 rounded-2xl border font-bold text-sm transition-all hover:bg-gray-50 group\"\n                                                    style={{ borderColor: \"var(--glass-border)\", color: \"var(--text-muted)\" }}\n                                                >\n                                                    ดูผลการค้นหาทั้งหมดสำหรับ \"{query}\"\n                                                    <ArrowRight size={16} className=\"group-hover:translate-x-1 transition-transform\" />\n                                                </Link>\n                                            </div>\n                                        )}\n                                    </motion.div>\n                                )}\n\n                                {/* Empty State */}\n                                {showEmpty && (\n                                    <motion.div\n                                        key=\"empty\"\n                                        initial={{ opacity: 0 }}\n                                        animate={{ opacity: 1 }}\n                                        exit={{ opacity: 0 }}\n                                        className=\"flex flex-col items-center justify-center py-16 px-8 text-center\"\n                                    >\n                                        <div className=\"w-20 h-20 rounded-full bg-gray-50 flex items-center justify-center text-gray-300 mb-4\">\n                                            <Search size={36} />\n                                        </div>\n                                        <p className=\"font-bold text-gray-400 mb-1\">ไม่พบผลการค้นหาสำหรับ</p>\n                                        <p className=\"text-2xl font-black text-primary\">\"{query}\"</p>\n                                        <p className=\"text-sm text-gray-400 mt-3\">ลองใช้คำอื่น หรือตรวจสอบการสะกดครับ</p>\n                                    </motion.div>\n                                )}\n\n                                {/* Default: Recent + Popular */}\n                                {!hasSearched && (\n                                    <motion.div\n                                        key=\"default\"\n                                        initial={{ opacity: 0 }}\n                                        animate={{ opacity: 1 }}\n                                        exit={{ opacity: 0 }}\n                                        className=\"p-6 space-y-6\"\n                                    >\n                                        {/* Recent Searches */}\n                                        {recentSearches.length > 0 && (\n                                            <div>\n                                                <div className=\"flex items-center justify-between mb-3\">\n                                                    <div className=\"flex items-center gap-2\">\n                                                        <Clock size={14} style={{ color: \"var(--text-muted)\" }} />\n                                                        <span className=\"text-[10px] font-black uppercase tracking-widest\" style={{ color: \"var(--text-muted)\" }}>ค้นหาล่าสุด</span>\n                                                    </div>\n                                                    <button\n                                                        onClick={() => { setRecentSearches([]); localStorage.removeItem(`recent_searches_${siteParam}`); }}\n                                                        className=\"text-[10px] font-bold text-gray-300 hover:text-rose-400 transition-colors\"\n                                                    >\n                                                        ล้างทั้งหมด\n                                                    </button>\n                                                </div>\n                                                <div className=\"flex flex-wrap gap-2\">\n                                                    {recentSearches.map((s) => (\n                                                        <button\n                                                            key={s}\n                                                            onClick={() => { setQuery(s); handleQueryChange(s); }}\n                                                            className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-sm font-bold border transition-all hover:border-accent hover:text-accent\"\n                                                            style={{ borderColor: \"var(--glass-border)\", color: \"var(--text-muted)\", backgroundColor: \"var(--glass-bg)\" }}\n                                                        >\n                                                            <Clock size={12} />\n                                                            {s}\n                                                        </button>\n                                                    ))}\n                                                </div>\n                                            </div>\n                                        )}\n\n                                        {/* Popular Tags */}\n                                        <div>\n                                            <div className=\"flex items-center gap-2 mb-3\">\n                                                <TrendingUp size={14} className=\"text-accent\" />\n                                                <span className=\"text-[10px] font-black uppercase tracking-widest\" style={{ color: \"var(--text-muted)\" }}>หัวข้อยอดนิยม</span>\n                                            </div>\n                                            <div className=\"flex flex-wrap gap-2\">\n                                                {popularTags.map((tag) => (\n                                                    <button\n                                                        key={tag}\n                                                        onClick={() => { setQuery(tag); handleQueryChange(tag); }}\n                                                        className=\"px-4 py-2 rounded-xl text-sm font-bold transition-all hover:shadow-md\"\n                                                        style={{\n                                                            backgroundColor: \"var(--glass-bg)\",\n                                                            borderColor: \"var(--glass-border)\",\n                                                            color: \"var(--foreground)\",\n                                                            border: \"1px solid var(--glass-border)\"\n                                                        }}\n                                                    >\n                                                        {tag}\n                                                    </button>\n                                                ))}\n                                            </div>\n                                        </div>\n                                    </motion.div>\n                                )}\n                            </AnimatePresence>\n                        </div>\n\n                        {/* Footer */}\n                        <div className=\"px-6 py-4 border-t flex items-center justify-between\" style={{ borderColor: \"var(--glass-border)\" }}>\n                            <p className=\"text-[10px] font-bold uppercase tracking-widest\" style={{ color: \"var(--text-muted)\" }}>\n                                {isPdpa ? \"PDPA Center\" : \"DataGOV\"} · ค้นหาทั่วทั้งเว็บไซต์\n                            </p>\n                            <div className=\"flex items-center gap-3 text-[10px] font-bold\" style={{ color: \"var(--text-muted)\" }}>\n                                <span className=\"flex items-center gap-1\">\n                                    <kbd className=\"px-1.5 py-0.5 rounded border text-[9px] bg-gray-50 border-gray-200\">↵</kbd>\n                                    ดูทั้งหมด\n                                </span>\n                                <span className=\"flex items-center gap-1\">\n                                    <kbd className=\"px-1.5 py-0.5 rounded border text-[9px] bg-gray-50 border-gray-200\">ESC</kbd>\n                                    ปิด\n                                </span>\n                            </div>\n                        </div>\n                    </motion.div>\n                </motion.div>\n            )}\n        </AnimatePresence>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1024, "column": 0}, "map": {"version":3,"sources":["file:///Users/teepakorn_s/Desktop/my_cms/frontend/components/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\n\nimport { Sun, Moon } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport { motion } from \"motion/react\";\n\nexport default function ThemeToggle() {\n    const [isDark, setIsDark] = useState(false);\n\n    useEffect(() => {\n        const theme = localStorage.getItem(\"theme\");\n        if (theme === \"dark\" || (!theme && window.matchMedia(\"(prefers-color-scheme: dark)\").matches)) {\n            setIsDark(true);\n            document.documentElement.classList.add(\"dark\");\n        }\n    }, []);\n\n    const toggleTheme = () => {\n        if (isDark) {\n            document.documentElement.classList.remove(\"dark\");\n            localStorage.setItem(\"theme\", \"light\");\n            setIsDark(false);\n        } else {\n            document.documentElement.classList.add(\"dark\");\n            localStorage.setItem(\"theme\", \"dark\");\n            setIsDark(true);\n        }\n    };\n\n    return (\n        <button\n            onClick={toggleTheme}\n            className=\"p-3 text-gray-500 hover:text-primary dark:text-gray-400 dark:hover:text-white transition-colors glass rounded-2xl border border-gray-100 dark:border-white/10 hover:bg-white dark:hover:bg-white/5 group relative overflow-hidden\"\n            aria-label=\"Toggle Theme\"\n        >\n            <motion.div\n                initial={false}\n                animate={{ y: isDark ? -40 : 0 }}\n                transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\n            >\n                <Sun size={20} className=\"group-hover:rotate-45 transition-transform\" />\n            </motion.div>\n            <motion.div\n                initial={false}\n                animate={{ y: isDark ? 0 : 40 }}\n                transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\n                className=\"absolute inset-0 flex items-center justify-center\"\n            >\n                <Moon size={20} className=\"group-hover:-rotate-12 transition-transform text-accent\" />\n            </motion.div>\n        </button>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,0MAAQ,EAAC;IAErC,IAAA,2MAAS;iCAAC;YACN,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,UAAU,UAAW,CAAC,SAAS,OAAO,UAAU,CAAC,gCAAgC,OAAO,EAAG;gBAC3F,UAAU;gBACV,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YAC3C;QACJ;gCAAG,EAAE;IAEL,MAAM,cAAc;QAChB,IAAI,QAAQ;YACR,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC1C,aAAa,OAAO,CAAC,SAAS;YAC9B,UAAU;QACd,OAAO;YACH,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACvC,aAAa,OAAO,CAAC,SAAS;YAC9B,UAAU;QACd;IACJ;IAEA,qBACI,8NAAC;QACG,SAAS;QACT,WAAU;QACV,cAAW;;0BAEX,8NAAC,wOAAM,CAAC,GAAG;gBACP,SAAS;gBACT,SAAS;oBAAE,GAAG,SAAS,CAAC,KAAK;gBAAE;gBAC/B,YAAY;oBAAE,MAAM;oBAAU,WAAW;oBAAK,SAAS;gBAAG;0BAE1D,cAAA,8NAAC,2OAAG;oBAAC,MAAM;oBAAI,WAAU;;;;;;;;;;;0BAE7B,8NAAC,wOAAM,CAAC,GAAG;gBACP,SAAS;gBACT,SAAS;oBAAE,GAAG,SAAS,IAAI;gBAAG;gBAC9B,YAAY;oBAAE,MAAM;oBAAU,WAAW;oBAAK,SAAS;gBAAG;gBAC1D,WAAU;0BAEV,cAAA,8NAAC,8OAAI;oBAAC,MAAM;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAI1C;GA9CwB;KAAA"}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":["file:///Users/teepakorn_s/Desktop/my_cms/frontend/components/NavbarClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { Menu, X, Search, ShieldCheck, Languages } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { motion } from \"motion/react\";\nimport SearchModal from \"./SearchModal\";\nimport ThemeToggle from \"./ThemeToggle\";\n\ninterface NavbarClientProps {\n    siteName: string;\n    navItems?: { name: string; href: string }[];\n    domain?: string;\n}\n\nexport default function NavbarClient({ siteName, navItems: customNavItems, domain = \"localhost:3000\" }: NavbarClientProps) {\n    const [isOpen, setIsOpen] = useState(false);\n    const [scrolled, setScrolled] = useState(false);\n    const [isSearchOpen, setIsSearchOpen] = useState(false);\n\n    useEffect(() => {\n        const handleScroll = () => {\n            setScrolled(window.scrollY > 20);\n        };\n        window.addEventListener(\"scroll\", handleScroll);\n        return () => window.removeEventListener(\"scroll\", handleScroll);\n    }, []);\n\n    // Keyboard shortcuts: Ctrl+K / Cmd+K to open search, ESC to close\n    useEffect(() => {\n        const handleKey = (e: KeyboardEvent) => {\n            if ((e.ctrlKey || e.metaKey) && e.key === \"k\") {\n                e.preventDefault();\n                setIsSearchOpen((prev) => !prev);\n            }\n            if (e.key === \"Escape\") {\n                setIsSearchOpen(false);\n                setIsOpen(false);\n            }\n        };\n        window.addEventListener(\"keydown\", handleKey);\n        return () => window.removeEventListener(\"keydown\", handleKey);\n    }, []);\n\n    const defaultNavItems = [\n        { name: \"หน้าแรก\", href: \"/\" },\n        { name: \"ข่าวกิจกรรม\", href: \"/news?site=main\" },\n        { name: \"PDPA\", href: \"http://localhost:3004\" },\n        { name: \"นโยบาย/มาตรฐาน\", href: \"/#policy\" },\n        { name: \"เอกสารเผยแพร่\", href: \"/documents\" },\n        { name: \"ดาวน์โหลด\", href: \"/#downloads\" },\n        { name: \"ติดต่อเรา\", href: \"/contact\" },\n    ];\n\n    const navItems = customNavItems || defaultNavItems;\n\n    return (\n        <>\n            <nav\n                className={`fixed w-full z-[140] transition-all duration-500 top-[44px] ${scrolled\n                    ? \"py-3 shadow-premium border-b\"\n                    : \"py-6 bg-transparent\"\n                    }`}\n                style={{\n                    backgroundColor: scrolled ? 'var(--glass-bg)' : 'transparent',\n                    backdropFilter: scrolled ? 'blur(20px)' : 'none',\n                    borderColor: 'var(--glass-border)'\n                }}\n            >\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n                    <div className=\"flex justify-between items-center h-16\">\n                        {/* Logo Section */}\n                        <Link href={domain === \"pdpa.localhost\" ? \"/pdpa\" : \"/\"} className=\"flex-shrink-0 flex items-center gap-3 group\">\n                            <div className=\"w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:rotate-12 transition-transform duration-300\" style={{ backgroundColor: 'var(--accent-color)' }}>\n                                <ShieldCheck size={28} />\n                            </div>\n                            <div className=\"flex flex-col\">\n                                <span className={`font-heading font-black text-2xl tracking-tighter leading-none text-primary`}>\n                                    {siteName}\n                                </span>\n                                <span className=\"text-[10px] uppercase font-bold tracking-widest\" style={{ color: 'var(--accent-color)' }}>Admin Court TH</span>\n                            </div>\n                        </Link>\n\n                        {/* Desktop Menu */}\n                        <div className=\"hidden md:flex items-center gap-2\">\n                            <div className=\"flex items-center gap-0.5 glass p-1 rounded-2xl border border-white shadow-sm mr-2\">\n                                {navItems.map((item) => (\n                                    <Link\n                                        key={item.name}\n                                        href={item.href}\n                                        className=\"px-4 py-2.5 font-black text-sm transition-all relative rounded-xl hover:bg-white/10 whitespace-nowrap\"\n                                        style={{ color: 'var(--foreground)' }}\n                                    >\n                                        {item.name}\n                                    </Link>\n                                ))}\n                            </div>\n\n                            <div className=\"flex items-center gap-2\">\n                                {/* Search Toggle */}\n                                <button\n                                    onClick={() => setIsSearchOpen(true)}\n                                    className=\"flex items-center gap-3 px-4 py-2.5 transition-colors glass rounded-2xl border border-gray-100 dark:border-white/10 hover:bg-white group\"\n                                    style={{ color: 'var(--text-muted)' }}\n                                >\n                                    <Search size={18} className=\"group-hover:text-accent transition-colors flex-shrink-0\" />\n                                    <span className=\"text-sm font-medium hidden lg:block\">ค้นหา...</span>\n                                    <kbd className=\"hidden lg:flex items-center gap-0.5 px-1.5 py-0.5 text-[9px] font-bold rounded border bg-white/50 border-gray-200 text-gray-400 ml-1\">\n                                        ⌘K\n                                    </kbd>\n                                </button>\n\n                                {/* Theme Toggle */}\n                                <ThemeToggle />\n\n                                {/* Language Switcher UI */}\n                                <button\n                                    className=\"p-3 transition-colors glass rounded-2xl border border-gray-100 dark:border-white/10 hover:bg-white flex items-center gap-2 px-4 shadow-sm\"\n                                    style={{ color: 'var(--foreground)' }}\n                                >\n                                    <Languages size={18} className=\"text-accent\" />\n                                    <span className=\"text-xs font-bold font-heading\">TH</span>\n                                </button>\n\n                                <Link\n                                    href={`/admin?site=${domain === \"pdpa.localhost\" ? \"pdpa\" : \"main\"}`}\n                                    className=\"px-6 py-3 bg-primary text-sm font-bold rounded-2xl shadow-premium hover:bg-accent transition-all active:scale-95 ml-2 whitespace-nowrap premium-gradient\"\n                                    style={{ color: 'var(--primary-foreground)' }}\n                                >\n                                    เข้าสู่ระบบ\n                                </Link>\n                            </div>\n                        </div>\n\n                        {/* Mobile Menu Button */}\n                        <div className=\"md:hidden flex items-center gap-2\">\n                            <button\n                                onClick={() => setIsSearchOpen(true)}\n                                className=\"p-3 glass rounded-2xl border border-gray-100 dark:border-white/10 text-blue-500\"\n                            >\n                                <Search size={20} />\n                            </button>\n                            <button\n                                onClick={() => setIsOpen(!isOpen)}\n                                className=\"p-3 glass rounded-2xl border border-gray-100 dark:border-white/10\"\n                                style={{ color: 'var(--foreground)' }}\n                            >\n                                {isOpen ? <X size={24} /> : <Menu size={24} />}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Mobile Menu */}\n                {isOpen && (\n                    <motion.div\n                        initial={{ opacity: 0, y: -20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        className=\"md:hidden glass absolute w-full left-0 shadow-2xl overflow-hidden\"\n                    >\n                        <div className=\"px-4 pt-4 pb-8 space-y-2\">\n                            {navItems.map((item) => (\n                                <Link\n                                    key={item.name}\n                                    href={item.href}\n                                    className=\"block px-6 py-4 rounded-2xl text-lg font-bold hover:bg-white/10 transition-all border border-transparent hover:border-blue-100/20\"\n                                    style={{ color: 'var(--foreground)' }}\n                                    onClick={() => setIsOpen(false)}\n                                >\n                                    {item.name}\n                                </Link>\n                            ))}\n                            <div className=\"pt-4 border-t border-gray-100 dark:border-white/10 flex flex-col gap-4\">\n                                <div className=\"flex gap-4\">\n                                    <ThemeToggle />\n                                    <button\n                                        className=\"flex-1 flex items-center justify-center gap-3 py-4 glass rounded-2xl font-bold\"\n                                        style={{ color: 'var(--foreground)' }}\n                                    >\n                                        <Languages size={20} className=\"text-accent\" />\n                                        <span>Thai / English</span>\n                                    </button>\n                                </div>\n                                <Link\n                                    href={`/admin?site=${domain === \"pdpa.localhost\" ? \"pdpa\" : \"main\"}`}\n                                    className=\"w-full flex justify-center py-4 bg-primary rounded-2xl font-bold shadow-lg\"\n                                    style={{ color: 'var(--primary-foreground)' }}\n                                    onClick={() => setIsOpen(false)}\n                                >\n                                    เข้าสู่ระบบจัดการข้อมูล\n                                </Link>\n                            </div>\n                        </div>\n                    </motion.div>\n                )}\n            </nav>\n\n            <SearchModal isOpen={isSearchOpen} onClose={() => setIsSearchOpen(false)} domain={domain} />\n        </>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1605, "column": 0}, "map": {"version":3,"sources":["file:///Users/teepakorn_s/Desktop/my_cms/frontend/app/news/NewsPageClient.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { fetchAPI, getStrapiMedia } from \"@/lib/api\";\nimport { Calendar, ChevronRight, ChevronLeft, Search, User, Filter } from \"lucide-react\";\nimport { motion } from \"motion/react\";\nimport React, { useState, useEffect } from \"react\";\n\nexport default function NewsPageClient({\n    header,\n    footer,\n    searchParamsPromise,\n    domain = \"localhost:3000\"\n}: {\n    header: React.ReactNode;\n    footer: React.ReactNode;\n    searchParamsPromise: Promise<{ page?: string; q?: string }>;\n    domain?: string;\n}) {\n    const [articles, setArticles] = useState<any[]>([]);\n    const [categories, setCategories] = useState<any[]>([]);\n    const [meta, setMeta] = useState<any>(null);\n    const [loading, setLoading] = useState(true);\n    const [params, setParams] = useState<{ page: number; q: string }>({ page: 1, q: \"\" });\n    const [selectedCategory, setSelectedCategory] = useState(\"ทั้งหมด\");\n\n    useEffect(() => {\n        const load = async () => {\n            const p = await searchParamsPromise;\n            const page = Number(p.page) || 1;\n            const q = p.q || \"\";\n            setParams({ page, q });\n\n            setLoading(true);\n            try {\n                // Fetch Categories\n                const catsRes = await fetchAPI(\"/categories\", {\n                    filters: { domain, type: \"news\" }\n                });\n                setCategories(catsRes.data || []);\n\n                // Fetch Articles\n                const filters: any = { domain };\n                if (q) filters.title = { $containsi: q };\n                if (selectedCategory !== \"ทั้งหมด\") {\n                    filters.category = { name: selectedCategory };\n                }\n\n                const { data, meta } = await fetchAPI(\"/articles\", {\n                    sort: [\"publishedAt:desc\"],\n                    pagination: { page, pageSize: 9 },\n                    populate: \"*\",\n                    filters: filters\n                });\n                setArticles(data);\n                setMeta(meta);\n            } catch (e) {\n                console.error(e);\n            } finally {\n                setLoading(false);\n            }\n        };\n        load();\n    }, [searchParamsPromise, selectedCategory, domain]);\n\n    const placeholders = [\"from-blue-100 to-indigo-100\", \"from-indigo-100 to-purple-100\", \"from-cyan-100 to-blue-100\"];\n\n    return (\n        <main className=\"min-h-screen bg-[#fcfdfe]\">\n            {header}\n\n            {/* Premium Header */}\n            <div className=\"relative pt-[calc(8rem+44px)] pb-24 overflow-hidden\">\n                <div className=\"absolute inset-0 bg-primary/2 flex items-center justify-center opacity-30 pointer-events-none\">\n                    <div className=\"w-[1000px] h-[1000px] bg-accent/10 rounded-full blur-[120px]\"></div>\n                </div>\n\n                <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center\">\n                    <motion.span\n                        initial={{ opacity: 0, y: -10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        className=\"text-accent font-black tracking-[0.3em] uppercase text-xs mb-4 block\"\n                    >\n                        Public Relations\n                    </motion.span>\n                    <motion.h1\n                        initial={{ opacity: 0, y: 20 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        className=\"text-4xl md:text-6xl font-black font-heading text-primary mb-8 tracking-tighter\"\n                    >\n                        ข่าวสารและกิจกรรม\n                    </motion.h1>\n\n                    {/* Glass Search bar */}\n                    <motion.div\n                        initial={{ opacity: 0, scale: 0.9 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        className=\"max-w-2xl mx-auto\"\n                    >\n                        <form className=\"relative group\">\n                            <input\n                                type=\"text\"\n                                name=\"q\"\n                                defaultValue={params.q}\n                                placeholder=\"ค้นหาบทความหรือประกาศ...\"\n                                className=\"w-full bg-white/70 backdrop-blur-xl border-2 border-transparent focus:border-accent shadow-premium pl-14 pr-32 py-5 rounded-[2.5rem] text-lg font-bold outline-none transition-all placeholder:text-gray-400\"\n                            />\n                            <Search className=\"absolute left-6 top-1/2 -translate-y-1/2 text-gray-300 group-focus-within:text-accent transition-colors\" size={24} />\n                            <button className=\"absolute right-3 top-1/2 -translate-y-1/2 bg-primary text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-accent transition-all active:scale-95\">\n                                ค้นหา\n                            </button>\n                        </form>\n                    </motion.div>\n                </div>\n            </div>\n\n            {/* Filters / Labels */}\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-12\">\n                <div className=\"flex flex-wrap items-center justify-between gap-4 border-b border-gray-100 pb-8\">\n                    <div className=\"flex flex-wrap items-center gap-6\">\n                        <button\n                            onClick={() => setSelectedCategory(\"ทั้งหมด\")}\n                            className={`text-sm font-bold uppercase tracking-widest transition-all ${selectedCategory === \"ทั้งหมด\" ? 'text-accent border-b-2 border-accent pb-2' : 'text-gray-400 hover:text-primary'}`}\n                        >\n                            ทั้งหมด\n                        </button>\n                        {categories.map((cat) => (\n                            <button\n                                key={cat.id}\n                                onClick={() => setSelectedCategory(cat.name)}\n                                className={`text-sm font-bold uppercase tracking-widest transition-all ${selectedCategory === cat.name ? 'text-accent border-b-2 border-accent pb-2' : 'text-gray-400 hover:text-primary'}`}\n                            >\n                                {cat.name}\n                            </button>\n                        ))}\n                    </div>\n                    <div className=\"flex items-center gap-2 text-xs font-bold text-gray-400 bg-gray-100 px-4 py-2 rounded-xl\">\n                        <Filter size={14} /> FILTER BY DATE\n                    </div>\n                </div>\n            </div>\n\n            {/* News Grid */}\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-32\">\n                {loading ? (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10\">\n                        {[1, 2, 3, 4, 5, 6].map((i) => (\n                            <div key={i} className=\"bg-white rounded-[2.5rem] h-[450px] animate-pulse border border-gray-100 shadow-sm\"></div>\n                        ))}\n                    </div>\n                ) : articles.length > 0 ? (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10\">\n                        {articles.map((item: any, index: number) => {\n                            const date = new Date(item.publishedAt).toLocaleDateString('th-TH', { year: 'numeric', month: 'long', day: 'numeric' });\n                            const coverImageUrl = item.coverImage?.url ? getStrapiMedia(item.coverImage.url) : null;\n\n                            return (\n                                <Link href={`/news/${item.slug}?site=${domain === \"pdpa.localhost\" ? \"pdpa\" : \"main\"}`} key={item.id} className=\"block\">\n                                    <motion.div\n                                        initial={{ opacity: 0, y: 20 }}\n                                        whileInView={{ opacity: 1, y: 0 }}\n                                        viewport={{ once: true }}\n                                        transition={{ delay: index * 0.05 }}\n                                        className=\"group flex flex-col glass rounded-[2.5rem] border border-white p-4 shadow-premium hover:shadow-blue-500/10 transition-all duration-500 hover:-translate-y-2 h-full\"\n                                    >\n                                        <div className=\"relative aspect-[16/10] rounded-[2rem] overflow-hidden mb-6\">\n                                            {coverImageUrl ? (\n                                                <img\n                                                    src={coverImageUrl}\n                                                    alt={item.title}\n                                                    className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700\"\n                                                />\n                                            ) : (\n                                                <div className={`w-full h-full bg-linear-to-br ${placeholders[index % 3]} opacity-60 flex items-center justify-center font-bold text-primary/20 text-4xl`}>\n                                                    {domain === \"pdpa.localhost\" ? \"PDPA\" : \"DataGOV\"}\n                                                </div>\n                                            )}\n                                            <div className=\"absolute top-4 left-4\">\n                                                <span className=\"px-4 py-1.5 glass-dark text-white rounded-full text-xs font-bold backdrop-blur-md border border-white/20\">\n                                                    {item.category?.name || \"ข่าวทั่วไป\"}\n                                                </span>\n                                            </div>\n                                        </div>\n                                        <div className=\"px-4 pb-4 flex flex-col flex-grow\">\n                                            <div className=\"flex items-center gap-4 text-gray-400 text-xs font-bold uppercase tracking-wider mb-4\">\n                                                <span className=\"flex items-center gap-1.5\"><Calendar size={14} className=\"text-accent\" /> {date}</span>\n                                                <span className=\"flex items-center gap-1.5\"><User size={14} className=\"text-indigo-400\" /> Admin</span>\n                                            </div>\n                                            <h3 className=\"text-xl font-bold font-heading text-primary mb-4 group-hover:text-accent transition-colors line-clamp-2 min-h-[3.5rem] leading-tight\">\n                                                {item.title}\n                                            </h3>\n                                            <div className=\"mt-auto\">\n                                                <div className=\"inline-flex items-center gap-2 text-accent font-bold text-sm group/btn\">\n                                                    อ่านรายละเอียด\n                                                    <div className=\"w-8 h-8 rounded-full glass border border-blue-100 flex items-center justify-center group-hover/btn:bg-accent group-hover/btn:text-white transition-all duration-300\">\n                                                        <ChevronRight size={14} />\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </motion.div>\n                                </Link>\n                            );\n                        })}\n                    </div>\n                ) : (\n                    <div className=\"text-center py-32 bg-white rounded-[3rem] border border-gray-100 shadow-xl\">\n                        <div className=\"w-24 h-24 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-8 border border-gray-100\">\n                            <Search size={40} className=\"text-gray-300\" />\n                        </div>\n                        <h3 className=\"text-2xl font-black text-primary mb-2\">ไม่พบรายการที่คุณต้องการ</h3>\n                        <p className=\"text-gray-400 mb-8\">ลองเปลี่ยนคำค้นหา หรือใช้คำที่สั้นลง</p>\n                        <Link href=\"/news\" className=\"inline-block bg-primary text-white px-10 py-4 rounded-full font-bold shadow-lg hover:bg-accent transition-all\">\n                            ล้างข้อมูลการค้นหา\n                        </Link>\n                    </div>\n                )}\n\n                {/* Modern Pagination */}\n                {meta?.pagination?.pageCount > 1 && (\n                    <div className=\"mt-20 flex justify-center items-center gap-4\">\n                        <Link\n                            href={`/news?page=${params.page - 1}${params.q ? `&q=${params.q}` : ''}`}\n                            className={`w-12 h-12 flex items-center justify-center rounded-2xl glass border border-gray-100 text-primary transition-all ${params.page <= 1 ? 'opacity-30 pointer-events-none' : 'hover:bg-primary hover:text-white'}`}\n                        >\n                            <ChevronLeft size={20} />\n                        </Link>\n\n                        <div className=\"flex items-center gap-2\">\n                            <span className=\"text-sm font-bold text-primary\">หน้า {params.page} จาก {meta.pagination.pageCount}</span>\n                        </div>\n\n                        <Link\n                            href={`/news?page=${params.page + 1}${params.q ? `&q=${params.q}` : ''}`}\n                            className={`w-12 h-12 flex items-center justify-center rounded-2xl glass border border-gray-100 text-primary transition-all ${params.page >= meta.pagination.pageCount ? 'opacity-30 pointer-events-none' : 'hover:bg-primary hover:text-white'}`}\n                        >\n                            <ChevronRight size={20} />\n                        </Link>\n                    </div>\n                )}\n            </div>\n\n            {footer}\n        </main>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS,eAAe,EACnC,MAAM,EACN,MAAM,EACN,mBAAmB,EACnB,SAAS,gBAAgB,EAM5B;;IACG,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,0MAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0MAAQ,EAAQ,EAAE;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,0MAAQ,EAAM;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,0MAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,0MAAQ,EAA8B;QAAE,MAAM;QAAG,GAAG;IAAG;IACnF,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,0MAAQ,EAAC;IAEzD,IAAA,2MAAS;oCAAC;YACN,MAAM;iDAAO;oBACT,MAAM,IAAI,MAAM;oBAChB,MAAM,OAAO,OAAO,EAAE,IAAI,KAAK;oBAC/B,MAAM,IAAI,EAAE,CAAC,IAAI;oBACjB,UAAU;wBAAE;wBAAM;oBAAE;oBAEpB,WAAW;oBACX,IAAI;wBACA,mBAAmB;wBACnB,MAAM,UAAU,MAAM,IAAA,0JAAQ,EAAC,eAAe;4BAC1C,SAAS;gCAAE;gCAAQ,MAAM;4BAAO;wBACpC;wBACA,cAAc,QAAQ,IAAI,IAAI,EAAE;wBAEhC,iBAAiB;wBACjB,MAAM,UAAe;4BAAE;wBAAO;wBAC9B,IAAI,GAAG,QAAQ,KAAK,GAAG;4BAAE,YAAY;wBAAE;wBACvC,IAAI,qBAAqB,WAAW;4BAChC,QAAQ,QAAQ,GAAG;gCAAE,MAAM;4BAAiB;wBAChD;wBAEA,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,0JAAQ,EAAC,aAAa;4BAC/C,MAAM;gCAAC;6BAAmB;4BAC1B,YAAY;gCAAE;gCAAM,UAAU;4BAAE;4BAChC,UAAU;4BACV,SAAS;wBACb;wBACA,YAAY;wBACZ,QAAQ;oBACZ,EAAE,OAAO,GAAG;wBACR,QAAQ,KAAK,CAAC;oBAClB,SAAU;wBACN,WAAW;oBACf;gBACJ;;YACA;QACJ;mCAAG;QAAC;QAAqB;QAAkB;KAAO;IAElD,MAAM,eAAe;QAAC;QAA+B;QAAiC;KAA4B;IAElH,qBACI,8NAAC;QAAK,WAAU;;YACX;0BAGD,8NAAC;gBAAI,WAAU;;kCACX,8NAAC;wBAAI,WAAU;kCACX,cAAA,8NAAC;4BAAI,WAAU;;;;;;;;;;;kCAGnB,8NAAC;wBAAI,WAAU;;0CACX,8NAAC,wOAAM,CAAC,IAAI;gCACR,SAAS;oCAAE,SAAS;oCAAG,GAAG,CAAC;gCAAG;gCAC9B,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAC5B,WAAU;0CACb;;;;;;0CAGD,8NAAC,wOAAM,CAAC,EAAE;gCACN,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAG;gCAC7B,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAC5B,WAAU;0CACb;;;;;;0CAKD,8NAAC,wOAAM,CAAC,GAAG;gCACP,SAAS;oCAAE,SAAS;oCAAG,OAAO;gCAAI;gCAClC,SAAS;oCAAE,SAAS;oCAAG,OAAO;gCAAE;gCAChC,WAAU;0CAEV,cAAA,8NAAC;oCAAK,WAAU;;sDACZ,8NAAC;4CACG,MAAK;4CACL,MAAK;4CACL,cAAc,OAAO,CAAC;4CACtB,aAAY;4CACZ,WAAU;;;;;;sDAEd,8NAAC,oPAAM;4CAAC,WAAU;4CAA0G,MAAM;;;;;;sDAClI,8NAAC;4CAAO,WAAU;sDAA4J;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAS9L,8NAAC;gBAAI,WAAU;0BACX,cAAA,8NAAC;oBAAI,WAAU;;sCACX,8NAAC;4BAAI,WAAU;;8CACX,8NAAC;oCACG,SAAS,IAAM,oBAAoB;oCACnC,WAAW,CAAC,2DAA2D,EAAE,qBAAqB,YAAY,8CAA8C,oCAAoC;8CAC/L;;;;;;gCAGA,WAAW,GAAG,CAAC,CAAC,oBACb,8NAAC;wCAEG,SAAS,IAAM,oBAAoB,IAAI,IAAI;wCAC3C,WAAW,CAAC,2DAA2D,EAAE,qBAAqB,IAAI,IAAI,GAAG,8CAA8C,oCAAoC;kDAE1L,IAAI,IAAI;uCAJJ,IAAI,EAAE;;;;;;;;;;;sCAQvB,8NAAC;4BAAI,WAAU;;8CACX,8NAAC,oPAAM;oCAAC,MAAM;;;;;;gCAAM;;;;;;;;;;;;;;;;;;0BAMhC,8NAAC;gBAAI,WAAU;;oBACV,wBACG,8NAAC;wBAAI,WAAU;kCACV;4BAAC;4BAAG;4BAAG;4BAAG;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACrB,8NAAC;gCAAY,WAAU;+BAAb;;;;;;;;;+BAGlB,SAAS,MAAM,GAAG,kBAClB,8NAAC;wBAAI,WAAU;kCACV,SAAS,GAAG,CAAC,CAAC,MAAW;4BACtB,MAAM,OAAO,IAAI,KAAK,KAAK,WAAW,EAAE,kBAAkB,CAAC,SAAS;gCAAE,MAAM;gCAAW,OAAO;gCAAQ,KAAK;4BAAU;4BACrH,MAAM,gBAAgB,KAAK,UAAU,EAAE,MAAM,IAAA,gKAAc,EAAC,KAAK,UAAU,CAAC,GAAG,IAAI;4BAEnF,qBACI,8NAAC,2MAAI;gCAAC,MAAM,CAAC,MAAM,EAAE,KAAK,IAAI,CAAC,MAAM,EAAE,WAAW,mBAAmB,SAAS,QAAQ;gCAAgB,WAAU;0CAC5G,cAAA,8NAAC,wOAAM,CAAC,GAAG;oCACP,SAAS;wCAAE,SAAS;wCAAG,GAAG;oCAAG;oCAC7B,aAAa;wCAAE,SAAS;wCAAG,GAAG;oCAAE;oCAChC,UAAU;wCAAE,MAAM;oCAAK;oCACvB,YAAY;wCAAE,OAAO,QAAQ;oCAAK;oCAClC,WAAU;;sDAEV,8NAAC;4CAAI,WAAU;;gDACV,8BACG,8NAAC;oDACG,KAAK;oDACL,KAAK,KAAK,KAAK;oDACf,WAAU;;;;;yEAGd,8NAAC;oDAAI,WAAW,CAAC,8BAA8B,EAAE,YAAY,CAAC,QAAQ,EAAE,CAAC,+EAA+E,CAAC;8DACpJ,WAAW,mBAAmB,SAAS;;;;;;8DAGhD,8NAAC;oDAAI,WAAU;8DACX,cAAA,8NAAC;wDAAK,WAAU;kEACX,KAAK,QAAQ,EAAE,QAAQ;;;;;;;;;;;;;;;;;sDAIpC,8NAAC;4CAAI,WAAU;;8DACX,8NAAC;oDAAI,WAAU;;sEACX,8NAAC;4DAAK,WAAU;;8EAA4B,8NAAC,0PAAQ;oEAAC,MAAM;oEAAI,WAAU;;;;;;gEAAgB;gEAAE;;;;;;;sEAC5F,8NAAC;4DAAK,WAAU;;8EAA4B,8NAAC,8OAAI;oEAAC,MAAM;oEAAI,WAAU;;;;;;gEAAoB;;;;;;;;;;;;;8DAE9F,8NAAC;oDAAG,WAAU;8DACT,KAAK,KAAK;;;;;;8DAEf,8NAAC;oDAAI,WAAU;8DACX,cAAA,8NAAC;wDAAI,WAAU;;4DAAyE;0EAEpF,8NAAC;gEAAI,WAAU;0EACX,cAAA,8NAAC,0QAAY;oEAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAtCiD,KAAK,EAAE;;;;;wBA8C5G;;;;;6CAGJ,8NAAC;wBAAI,WAAU;;0CACX,8NAAC;gCAAI,WAAU;0CACX,cAAA,8NAAC,oPAAM;oCAAC,MAAM;oCAAI,WAAU;;;;;;;;;;;0CAEhC,8NAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,8NAAC;gCAAE,WAAU;0CAAqB;;;;;;0CAClC,8NAAC,2MAAI;gCAAC,MAAK;gCAAQ,WAAU;0CAAgH;;;;;;;;;;;;oBAOpJ,MAAM,YAAY,YAAY,mBAC3B,8NAAC;wBAAI,WAAU;;0CACX,8NAAC,2MAAI;gCACD,MAAM,CAAC,WAAW,EAAE,OAAO,IAAI,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC,EAAE,GAAG,IAAI;gCACxE,WAAW,CAAC,gHAAgH,EAAE,OAAO,IAAI,IAAI,IAAI,mCAAmC,qCAAqC;0CAEzN,cAAA,8NAAC,uQAAW;oCAAC,MAAM;;;;;;;;;;;0CAGvB,8NAAC;gCAAI,WAAU;0CACX,cAAA,8NAAC;oCAAK,WAAU;;wCAAiC;wCAAM,OAAO,IAAI;wCAAC;wCAAM,KAAK,UAAU,CAAC,SAAS;;;;;;;;;;;;0CAGtG,8NAAC,2MAAI;gCACD,MAAM,CAAC,WAAW,EAAE,OAAO,IAAI,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,CAAC,EAAE,GAAG,IAAI;gCACxE,WAAW,CAAC,gHAAgH,EAAE,OAAO,IAAI,IAAI,KAAK,UAAU,CAAC,SAAS,GAAG,mCAAmC,qCAAqC;0CAEjP,cAAA,8NAAC,0QAAY;oCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;YAMnC;;;;;;;AAGb;GA7OwB;KAAA"}},
    {"offset": {"line": 2218, "column": 0}, "map": {"version":3,"sources":["file:///Users/teepakorn_s/Desktop/my_cms/frontend/components/NewsTicker.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"motion/react\";\nimport { Zap, ChevronRight } from \"lucide-react\";\nimport Link from \"next/link\";\n\nexport default function NewsTicker({ domain = \"localhost:3000\", announcement, notifications }: { domain?: string; announcement?: string; notifications?: string[] }) {\n    const siteParam = domain === \"pdpa.localhost\" ? \"pdpa\" : \"main\";\n    const defaultUpdates = [\n        \"ประกาศ: มาตรฐานการจัดการข้อมูลภาครัฐฉบับใหม่ ปี 2569 เริ่มประกาศใช้แล้ววันนี้\",\n        \"กิจกรรม: ขอเชิญร่วมรับฟังสัมมนาออนไลน์หัวข้อ 'ธรรมาภิบาลข้อมูลยุค AI' ในวันที่ 25 มีนาคมนี้\",\n        \"แจ้งเตือน: ปรับปรุงระบบ Data Catalog ในช่วงเวลา 22:00 - 02:00 น. ของวันเสาร์ที่ 15 กุมภาพันธ์\",\n    ];\n\n    // Use notifications from admin if available, otherwise fall back to defaults\n    const updates = (notifications && notifications.length > 0) ? notifications : (announcement ? [announcement, ...defaultUpdates] : defaultUpdates);\n\n    return (\n        <div className=\"fixed top-0 w-full z-[150] h-11 flex items-center border-b border-white/10 overflow-hidden\" style={{ backgroundColor: 'var(--primary-color)' }}>\n            <div className=\"flex-shrink-0 px-4 h-full flex items-center gap-2 z-10 shadow-xl relative\" style={{ backgroundColor: 'var(--accent-color)' }}>\n                <span className=\"relative flex h-2 w-2\">\n                    <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75\"></span>\n                    <span className=\"relative inline-flex rounded-full h-2 w-2 bg-white\"></span>\n                </span>\n                <span className=\"text-[10px] font-black font-heading uppercase tracking-widest\" style={{ color: 'var(--primary-foreground)' }}>Live Updates</span>\n                {/* Slant effect */}\n                <div className=\"absolute top-0 -right-4 h-full w-8 skew-x-[20deg] z-[-1]\" style={{ backgroundColor: 'var(--accent-color)' }}></div>\n            </div>\n\n            <div className=\"flex-1 overflow-hidden h-full flex items-center\">\n                <motion.div\n                    animate={{ x: [0, -1200] }}\n                    transition={{ repeat: Infinity, duration: 40, ease: \"linear\" }}\n                    className=\"flex gap-16 items-center whitespace-nowrap pl-8\"\n                >\n                    {[1, 2, 3].map((i) => (\n                        <div key={i} className=\"flex gap-16 items-center\">\n                            {updates.map((text, idx) => (\n                                <div\n                                    key={idx}\n                                    className=\"text-xs font-bold flex items-center gap-3\"\n                                    style={{ color: 'var(--primary-foreground)' }}\n                                >\n                                    <span className=\"w-1 h-1 rounded-full bg-accent/50\" />\n                                    {text}\n                                </div>\n                            ))}\n                        </div>\n                    ))}\n                </motion.div>\n            </div>\n\n            <div className=\"flex-shrink-0 px-6 z-10 hidden lg:block h-full flex items-center\" style={{ background: 'linear-gradient(to left, var(--primary-color), var(--primary-color), transparent)' }}>\n                <Link href={`/news?site=${siteParam}`} className=\"text-[10px] font-bold uppercase tracking-widest hover:text-accent transition-all flex items-center gap-1.5\" style={{ color: 'var(--primary-foreground)' }}>\n                    ดูข่าวทั้งหมด <ChevronRight size={12} />\n                </Link>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,WAAW,EAAE,SAAS,gBAAgB,EAAE,YAAY,EAAE,aAAa,EAAwE;IAC/J,MAAM,YAAY,WAAW,mBAAmB,SAAS;IACzD,MAAM,iBAAiB;QACnB;QACA;QACA;KACH;IAED,6EAA6E;IAC7E,MAAM,UAAU,AAAC,iBAAiB,cAAc,MAAM,GAAG,IAAK,gBAAiB,eAAe;QAAC;WAAiB;KAAe,GAAG;IAElI,qBACI,8NAAC;QAAI,WAAU;QAA6F,OAAO;YAAE,iBAAiB;QAAuB;;0BACzJ,8NAAC;gBAAI,WAAU;gBAA4E,OAAO;oBAAE,iBAAiB;gBAAsB;;kCACvI,8NAAC;wBAAK,WAAU;;0CACZ,8NAAC;gCAAK,WAAU;;;;;;0CAChB,8NAAC;gCAAK,WAAU;;;;;;;;;;;;kCAEpB,8NAAC;wBAAK,WAAU;wBAAgE,OAAO;4BAAE,OAAO;wBAA4B;kCAAG;;;;;;kCAE/H,8NAAC;wBAAI,WAAU;wBAA2D,OAAO;4BAAE,iBAAiB;wBAAsB;;;;;;;;;;;;0BAG9H,8NAAC;gBAAI,WAAU;0BACX,cAAA,8NAAC,wOAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,GAAG;4BAAC;4BAAG,CAAC;yBAAK;oBAAC;oBACzB,YAAY;wBAAE,QAAQ;wBAAU,UAAU;wBAAI,MAAM;oBAAS;oBAC7D,WAAU;8BAET;wBAAC;wBAAG;wBAAG;qBAAE,CAAC,GAAG,CAAC,CAAC,kBACZ,8NAAC;4BAAY,WAAU;sCAClB,QAAQ,GAAG,CAAC,CAAC,MAAM,oBAChB,8NAAC;oCAEG,WAAU;oCACV,OAAO;wCAAE,OAAO;oCAA4B;;sDAE5C,8NAAC;4CAAK,WAAU;;;;;;wCACf;;mCALI;;;;;2BAHP;;;;;;;;;;;;;;;0BAgBtB,8NAAC;gBAAI,WAAU;gBAAmE,OAAO;oBAAE,YAAY;gBAAoF;0BACvL,cAAA,8NAAC,2MAAI;oBAAC,MAAM,CAAC,WAAW,EAAE,WAAW;oBAAE,WAAU;oBAA6G,OAAO;wBAAE,OAAO;oBAA4B;;wBAAG;sCAC3L,8NAAC,0QAAY;4BAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;AAKtD;KArDwB"}}]
}